<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="675px" preserveAspectRatio="none" style="width:1085px;height:675px;background:#FFFFFF;" version="1.1" viewBox="0 0 1085 675" width="1085px" zoomAndPan="magnify"><defs><filter height="300%" id="fhqxqnidi66tm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fhqxqnidi66tm)" height="146.5313" style="stroke:#000000;stroke-width:2.0;" width="736.5" x="10" y="57.2969"/><rect fill="#FFFFFF" filter="url(#fhqxqnidi66tm)" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="1061.5" x="10" y="217.8281"/><rect fill="#FFFFFF" filter="url(#fhqxqnidi66tm)" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="1061.5" x="10" y="423.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="40.2969" y2="632.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="327.5" x2="327.5" y1="40.2969" y2="632.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="408" x2="408" y1="40.2969" y2="632.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="677.5" x2="677.5" y1="40.2969" y2="632.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="993.5" x2="993.5" y1="40.2969" y2="632.6875"/><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="42" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="27" y="24.9951">STB</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="42" x="20" y="631.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="27" y="651.6826">STB</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="31" x="310.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17" x="317.5" y="24.9951">LB</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="31" x="310.5" y="631.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17" x="317.5" y="651.6826">LB</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="100" x="356" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="363" y="24.9951">sr-admin-gui</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="100" x="356" y="631.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="363" y="651.6826">sr-admin-gui</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="619.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="626.5" y="24.9951">video-gateway</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="619.5" y="631.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="626.5" y="651.6826">video-gateway</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="131" x="926.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="933.5" y="24.9951">video-transcoder</text><rect fill="#FEFECE" filter="url(#fhqxqnidi66tm)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="131" x="926.5" y="631.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="933.5" y="651.6826">video-transcoder</text><path d="M10,57.2969 L74,57.2969 L74,64.2969 L64,74.2969 L10,74.2969 L10,57.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="146.5313" style="stroke:#000000;stroke-width:2.0;" width="736.5" x="10" y="57.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="70.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="89" y="69.5073">[initial request]</text><polygon fill="#A80036" points="316,76.4297,326,80.4297,316,84.4297,320,80.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="322" y1="80.4297" y2="80.4297"/><polygon fill="#A80036" points="396,90.4297,406,94.4297,396,98.4297,400,94.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="328" x2="402" y1="94.4297" y2="94.4297"/><polygon fill="#A80036" points="666,104.4297,676,108.4297,666,112.4297,670,108.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="408" x2="672" y1="108.4297" y2="108.4297"/><polygon fill="#A80036" points="419,133.5625,409,137.5625,419,141.5625,415,137.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="413" x2="677" y1="137.5625" y2="137.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="425" y="132.4966">OK</text><polygon fill="#A80036" points="339,162.6953,329,166.6953,339,170.6953,335,166.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="333" x2="407" y1="166.6953" y2="166.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="345" y="161.6294">New URL</text><polygon fill="#A80036" points="54,191.8281,44,195.8281,54,199.8281,50,195.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="327" y1="195.8281" y2="195.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="60" y="190.7622">sends new url to client for real HLS traffic</text><path d="M10,217.8281 L74,217.8281 L74,224.8281 L64,234.8281 L10,234.8281 L10,217.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="1061.5" x="10" y="217.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="230.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="89" y="230.0386">[request m3u8 file]</text><polygon fill="#A80036" points="316,252.0938,326,256.0938,316,260.0938,320,256.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="322" y1="256.0938" y2="256.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="50" y="251.0278">comes with m3u8 file</text><polygon fill="#A80036" points="666,281.2266,676,285.2266,666,289.2266,670,285.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="328" x2="672" y1="285.2266" y2="285.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="335" y="280.1606">checks ACL and on yes proxies to video-transcoder</text><polygon fill="#A80036" points="982,310.3594,992,314.3594,982,318.3594,986,314.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="678" x2="988" y1="314.3594" y2="314.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="685" y="309.2935">video gateway forwards request to transcoder</text><polygon fill="#A80036" points="689,339.4922,679,343.4922,689,347.4922,685,343.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="683" x2="993" y1="343.4922" y2="343.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="695" y="338.4263">response with m3u8 contents</text><polygon fill="#A80036" points="339,368.625,329,372.625,339,376.625,335,372.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="333" x2="677" y1="372.625" y2="372.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="345" y="367.5591">response with m3u8 contents</text><polygon fill="#A80036" points="54,397.7578,44,401.7578,54,405.7578,50,401.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="327" y1="401.7578" y2="401.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="60" y="396.6919">response with m3u8 contents</text><path d="M10,423.7578 L74,423.7578 L74,430.7578 L64,440.7578 L10,440.7578 L10,423.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="191.9297" style="stroke:#000000;stroke-width:2.0;" width="1061.5" x="10" y="423.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="436.8247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="89" y="435.9683">[request ts files]</text><polygon fill="#A80036" points="316,458.0234,326,462.0234,316,466.0234,320,462.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="322" y1="462.0234" y2="462.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="50" y="456.9575">comes with ts from m3u8 file</text><polygon fill="#A80036" points="666,487.1563,676,491.1563,666,495.1563,670,491.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="328" x2="672" y1="491.1563" y2="491.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="335" y="486.0903">checks ACL and on yes proxies to video-transcoder</text><polygon fill="#A80036" points="982,516.2891,992,520.2891,982,524.2891,986,520.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="678" x2="988" y1="520.2891" y2="520.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="685" y="515.2231">video gateway forwards request to transcoder</text><polygon fill="#A80036" points="689,545.4219,679,549.4219,689,553.4219,685,549.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="683" x2="993" y1="549.4219" y2="549.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="695" y="544.356">response with ts contents</text><polygon fill="#A80036" points="339,574.5547,329,578.5547,339,582.5547,335,578.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="333" x2="677" y1="578.5547" y2="578.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="345" y="573.4888">response with ts contents</text><polygon fill="#A80036" points="54,603.6875,44,607.6875,54,611.6875,50,607.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="327" y1="607.6875" y2="607.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="60" y="602.6216">response with ts contents</text><!--MD5=[b540ac7a0bd11eab90cf5c09ec969460]
@startuml

alt initial request
STB -> LB
LB -> "sr-admin-gui"
"sr-admin-gui" -> "video-gateway"
"video-gateway" -> "sr-admin-gui" : OK
"sr-admin-gui" -> LB : New URL
"LB" -> STB : sends new url to client for real HLS traffic
end alt

alt request m3u8 file
STB -> LB : comes with m3u8 file
LB -> "video-gateway" : checks ACL and on yes proxies to video-transcoder
"video-gateway" -> "video-transcoder" : video gateway forwards request to transcoder
"video-transcoder" -> "video-gateway" : response with m3u8 contents
"video-gateway" -> LB : response with m3u8 contents
LB -> STB : response with m3u8 contents
end alt

alt request ts files
STB -> LB : comes with ts from m3u8 file
LB -> "video-gateway" : checks ACL and on yes proxies to video-transcoder
"video-gateway" -> "video-transcoder" : video gateway forwards request to transcoder
"video-transcoder" -> "video-gateway" : response with ts contents
"video-gateway" -> LB : response with ts contents
LB -> STB : response with ts contents
end alt

@enduml

PlantUML version 1.2021.14(Fri Nov 12 16:46:50 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>